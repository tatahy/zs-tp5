{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/components/admin/equipment/HandleData.vue?e472","webpack:///src/components/admin/equipment/HandleData.vue","webpack:///./src/components/admin/equipment/HandleData.vue?9576","webpack:///./src/components/admin/equipment/HandleData.vue","webpack:///./src/utility/util.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","indexOf","length","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","postData","resetData","attrs","model","param","callback","$$v","$set","expression","equipmentId","timestr","_s","res","staticRenderFns","name","data","timer","rh","amp","vol","temp","sn","type","computed","req","info_id","timestamp","customer_id","Object","assign","load","watch","methods","setTimer","setInterval","console","log","clearTimer","clearInterval","components","BRow","BCol","BButton","BForm","BFormGroup","BFormInput","created","beforeDestroy","component","debug","process","asyFetch","url","opt","typeArr","optDefault","method","headers","ok","result","cont","fetch","blob","text","formData","json","status","statusText","getServUrl","str","window","location","href","hasHash","URL","slice","port","METHOD_NAME","regexp","e","f","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","el"],"mappings":"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","file":"static/js/chunk-cbd433c0.b081ac68.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"text-center\"},[_vm._v(\"写入“data_raw”数据表数据（http协议）\")]),_c('b-form',{staticClass:\"pt-2\",on:{\"submit\":_vm.postData,\"reset\":_vm.resetData}},[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"6\"}},[_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"rh(%):\",\"label-align-sm\":\"right\",\"label-for\":\"host\"}},[_c('b-form-input',{attrs:{\"id\":\"rh\"},model:{value:(_vm.param.rh),callback:function ($$v) {_vm.$set(_vm.param, \"rh\", $$v)},expression:\"param.rh\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"amp(A):\",\"label-align-sm\":\"right\",\"label-for\":\"port\"}},[_c('b-form-input',{attrs:{\"id\":\"amp\"},model:{value:(_vm.param.amp),callback:function ($$v) {_vm.$set(_vm.param, \"amp\", $$v)},expression:\"param.amp\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"vol(V):\",\"label-align-sm\":\"right\",\"label-for\":\"path\"}},[_c('b-form-input',{attrs:{\"id\":\"vol\"},model:{value:(_vm.param.vol),callback:function ($$v) {_vm.$set(_vm.param, \"vol\", $$v)},expression:\"param.vol\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"temp(C):\",\"label-align-sm\":\"right\",\"label-for\":\"path\"}},[_c('b-form-input',{attrs:{\"id\":\"temp\"},model:{value:(_vm.param.temp),callback:function ($$v) {_vm.$set(_vm.param, \"temp\", $$v)},expression:\"param.temp\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"6\"}},[_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"设备Id:\",\"label-align-sm\":\"right\",\"label-for\":\"equipmentId\"}},[_c('b-form-input',{attrs:{\"id\":\"equipmentId\"},model:{value:(_vm.equipmentId),callback:function ($$v) {_vm.equipmentId=$$v},expression:\"equipmentId\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"SN:\",\"label-align-sm\":\"right\",\"label-for\":\"sn\"}},[_c('b-form-input',{attrs:{\"id\":\"sn\"},model:{value:(_vm.module.sn),callback:function ($$v) {_vm.$set(_vm.module, \"sn\", $$v)},expression:\"module.sn\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"type:\",\"label-align-sm\":\"right\",\"label-for\":\"type\"}},[_c('b-form-input',{attrs:{\"id\":\"type\"},model:{value:(_vm.module.type),callback:function ($$v) {_vm.$set(_vm.module, \"type\", $$v)},expression:\"module.type\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"time:\",\"label-align-sm\":\"right\",\"label-for\":\"time\"}},[_c('b-form-input',{attrs:{\"id\":\"time\",\"disabled\":\"\"},model:{value:(_vm.timestr),callback:function ($$v) {_vm.timestr=$$v},expression:\"timestr\"}})],1)],1)],1),_c('b-row',[_c('p',[_vm._v(\"向服务器post结果:\")]),_c('p',[_vm._v(_vm._s(_vm.res))])]),_c('b-row',[_c('b-col',{staticClass:\"text-right\",attrs:{\"sm\":\"6\"}},[_c('b-button',{staticClass:\"m-1\",attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(\"Post\")]),_c('b-button',{staticClass:\"m-1\",attrs:{\"type\":\"reset\"}},[_vm._v(\"Reset\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h4 class=\"text-center\">写入“data_raw”数据表数据（http协议）</h4>\n    <!-- <b-form> -->\n    <b-form v-on:submit=\"postData\" v-on:reset=\"resetData\" class=\"pt-2\">\n      <b-row>\n        <b-col sm=\"6\">\n          <b-form-group label-cols-sm=\"3\" label=\"rh(%):\" label-align-sm=\"right\" label-for=\"host\">\n            <b-form-input id=\"rh\" v-model=\"param.rh\"></b-form-input>\n          </b-form-group>\n\n          <b-form-group label-cols-sm=\"3\" label=\"amp(A):\" label-align-sm=\"right\" label-for=\"port\">\n            <b-form-input id=\"amp\" v-model=\"param.amp\"></b-form-input>\n          </b-form-group>\n\n          <b-form-group label-cols-sm=\"3\" label=\"vol(V):\" label-align-sm=\"right\" label-for=\"path\">\n            <b-form-input id=\"vol\" v-model=\"param.vol\"></b-form-input>\n          </b-form-group>\n          <b-form-group label-cols-sm=\"3\" label=\"temp(C):\" label-align-sm=\"right\" label-for=\"path\">\n            <b-form-input id=\"temp\" v-model=\"param.temp\"></b-form-input>\n          </b-form-group>\n          <!-- <b-form-group label-cols-sm=\"3\" label=\":\" label-align-sm=\"right\" class=\"mb-0\">\n            <b-form-radio-group class=\"pt-2\" v-model=\"req.data.protocol\" :options=\"['ws:','wss:']\"></b-form-radio-group>\n          </b-form-group>-->\n        </b-col>\n        <b-col sm=\"6\">\n          <b-form-group label-cols-sm=\"3\" label=\"设备Id:\" label-align-sm=\"right\" label-for=\"equipmentId\">\n            <b-form-input id=\"equipmentId\" v-model=\"equipmentId\"></b-form-input>\n          </b-form-group>\n          <b-form-group label-cols-sm=\"3\" label=\"SN:\" label-align-sm=\"right\" label-for=\"sn\">\n            <b-form-input id=\"sn\" v-model=\"module.sn\"></b-form-input>\n          </b-form-group>\n\n          <b-form-group label-cols-sm=\"3\" label=\"type:\" label-align-sm=\"right\" label-for=\"type\">\n            <b-form-input id=\"type\" v-model=\"module.type\"></b-form-input>\n          </b-form-group>\n          <b-form-group label-cols-sm=\"3\" label=\"time:\" label-align-sm=\"right\" label-for=\"time\">\n            <b-form-input id=\"time\" v-model=\"timestr\" disabled></b-form-input>\n            <!-- <b-form-input id=\"timestamp\" v-bind:value=\"req.data.timestamp\" disabled></b-form-input> -->\n          </b-form-group>\n        </b-col>\n      </b-row>\n\n      <b-row>\n        <p>向服务器post结果:</p>\n        <p>{{res}}</p>\n      </b-row>\n\n      <b-row>\n        <!-- <b-col sm=\"6\">\n            <h5 class=\"text-right\">\n              <span\n                class=\"badge badge-pill\"\n                v-bind:class=\"isConnected?`badge-success`:`badge-danger`\"\n              >{{isConnected?`Connected`:`Disconnected`}}</span>\n              {{mqttUrl.href}}\n            </h5>\n        </b-col>-->\n        <b-col sm=\"6\" class=\"text-right\">\n          <b-button class=\"m-1\" variant=\"primary\" type=\"submit\">Post</b-button>\n          <b-button class=\"m-1\" type=\"reset\">Reset</b-button>\n        </b-col>\n      </b-row>\n    </b-form>\n  </div>\n</template>\n\n<script>\n//引入BsV的component\nimport {\n  BRow,\n  BCol,\n  // BFormSelect,\n  BButton,\n  // BCard,\n  BForm,\n  // BCardGroup,\n  // BCardFooter,\n  BFormGroup,\n  BFormInput\n  // BFormRadioGroup\n} from \"bootstrap-vue\";\n\nimport { asyFetch, getServUrl } from \"@/utility/util\";\n\nexport default {\n  name: \"HandleData\",\n  data() {\n    return {\n      equipmentId:1,\n      timer: null, //定义计时器名称\n      timestr: '',\n      param: {\n        rh: 92.0,\n        amp: 1000.1,\n        vol: 5,\n        temp: 26.9\n      },\n      module: {\n        sn: \"m001\",\n        type: \"控制/采集模块\"\n      },\n      res: null\n    };\n  },\n  computed: {\n    req() {\n      const load = {\n        info_id: this.equipmentId,\n        data: {\n          param: this.param,\n          module: this.module,\n          timestamp: null\n        },\n        customer_id: 0\n      };\n      return Object.assign({}, load, { tblName: \"data_raw\" });\n    }\n  },\n  watch: {\n    // req: {\n    //   handler: \"getNow\",\n    //   deep: true,\n    //   immediate: true\n    // }\n  },\n  methods: {\n    setTimer: function() {\n      if (this.timer == null) {\n        this.timer = setInterval(() => {\n          const dateNow = new Date();\n          this.timestr = dateNow.toLocaleString();\n          this.req.data.timestamp = dateNow.getTime();\n          // console.log(this.req.data.timestamp);\n        }, 1000);\n      }\n    },\n    postData: async function(evt) {\n      evt.preventDefault();\n      const opt = { method: \"POST\", body: JSON.stringify(this.req) };\n      const url = getServUrl() + \"equipment/data\";\n      this.res = null;\n      this.res = await asyFetch(url, opt);\n    },\n    resetData: function() {\n      console.log(\"resetData\");\n    },\n    //清除定时器\n    clearTimer() {\n      //清除定时器\n      clearInterval(this.timer);\n      this.timer = null;\n    }\n  },\n  components: {\n    BRow,\n    BCol,\n    BButton,\n    // BCard,\n    BForm,\n    // BCardGroup,\n    // BCardFooter,\n    BFormGroup,\n    BFormInput\n    // BFormRadioGroup\n  },\n  created() {\n    // 每次进入界面时，先清除之前的所有定时器，然后启动新的定时器\n    this.clearTimer();\n    this.timer = null;\n    this.setTimer();\n  },\n  // 最后在beforeDestroy()生命周期内清除定时器：\n  beforeDestroy() {\n    this.clearTimer();\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HandleData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HandleData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./HandleData.vue?vue&type=template&id=553d292f&scoped=true&\"\nimport script from \"./HandleData.vue?vue&type=script&lang=js&\"\nexport * from \"./HandleData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"553d292f\",\n  null\n  \n)\n\nexport default component.exports","export const debug= process.env.NODE_ENV === \"development\";\r\n\r\nexport async function asyFetch(url, opt = {}) {\r\n  let typeArr = [\"blob\", \"text\", \"json\", \"formData\"];\r\n  //js原生fetch()方法的第二参数\r\n  let optDefault = {\r\n    method: \"GET\", // *GET, POST, PUT, DELETE, etc\r\n    //mode: 'no-cors', // no-cors, cors, *same-origin\r\n    //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    //credentials: 'omit', // include, *same-origin, omit\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n      //    //'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    //redirect: 'follow', // manual, *follow, error\r\n    //referrer: 'no-referrer', // no-referrer, *client\r\n    //body:JSON.stringify({zz:11}), // body data type must match \"Content-Type\" header while method=='POST' or 'PUT'\r\n    type: \"json\"\r\n  };\r\n  let res = { ok: false };\r\n  let result = {\r\n    ok: false,\r\n    cont: {}\r\n  };\r\n\r\n  opt = Object.assign({}, optDefault, opt);\r\n\r\n  // console.log(url, opt);\r\n\r\n  if (url && typeArr.includes(opt.type)) {\r\n    res = await fetch(url, opt);\r\n  }\r\n\r\n  if (res.ok) {\r\n    result.ok = true;\r\n    switch (opt.type) {\r\n      case \"blob\":\r\n        result.cont = await res.blob();\r\n        break;\r\n      case \"text\":\r\n        result.cont = await res.text();\r\n        break;\r\n      case \"formData\":\r\n        result.cont = await res.formData();\r\n        break;\r\n      default:\r\n        result.cont = await res.json();\r\n        break;\r\n    }\r\n  } else {\r\n    // result.cont=await res.blob();\r\n    // result.cont = res;\r\n    // console.log(res.status);\r\n    // console.log(res.statusText);\r\n    result.cont.data=[{result:res.ok,status:res.status,statusText:res.statusText}];\r\n    // result.cont=res;\r\n    // console.log(result);\r\n    // console.log(res.headers)\r\n  }\r\n  //console.log(result)\r\n  //async函数返回的是Promise对象\r\n  return result;\r\n}\r\n\r\nexport function getServUrl(){\r\n  const str=window.location.href;\r\n  const hasHash=str.indexOf('#')>0;\r\n  const url=hasHash?new URL(str.slice(0,str.indexOf('#'))):new URL(str);\r\n  \r\n  debug?url.port=20000:'';\r\n  \r\n  return url;\r\n\r\n}\r\n\r\n\r\n\r\n// export {asyFetch };\r\nexport default {};","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}