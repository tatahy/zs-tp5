(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cbd433c0"],{"1da1":function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));r("d3b7"),r("e6cf");function a(t,e,r,a,n,s,o){try{var i=t[s](o),l=i.value}catch(u){return void r(u)}i.done?e(l):Promise.resolve(l).then(a,n)}function n(t){return function(){var e=this,r=arguments;return new Promise((function(n,s){var o=t.apply(e,r);function i(t){a(o,n,s,i,l,"next",t)}function l(t){a(o,n,s,i,l,"throw",t)}i(void 0)}))}}},2532:function(t,e,r){"use strict";var a=r("23e7"),n=r("5a34"),s=r("1d80"),o=r("ab13");a({target:"String",proto:!0,forced:!o("includes")},{includes:function(t){return!!~String(s(this)).indexOf(n(t),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(t,e,r){var a=r("861d"),n=r("c6b6"),s=r("b622"),o=s("match");t.exports=function(t){var e;return a(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==n(t))}},"5a34":function(t,e,r){var a=r("44e7");t.exports=function(t){if(a(t))throw TypeError("The method doesn't accept regular expressions");return t}},"72f4":function(t,e,r){"use strict";r.r(e);var a=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("h4",{staticClass:"text-center"},[t._v("写入“data_raw”数据表数据（http协议）")]),r("b-form",{staticClass:"pt-2",on:{submit:t.postData,reset:t.resetData}},[r("b-row",[r("b-col",{attrs:{sm:"6"}},[r("b-form-group",{attrs:{"label-cols-sm":"3",label:"rh(%):","label-align-sm":"right","label-for":"host"}},[r("b-form-input",{attrs:{id:"rh"},model:{value:t.param.rh,callback:function(e){t.$set(t.param,"rh",e)},expression:"param.rh"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"amp(A):","label-align-sm":"right","label-for":"port"}},[r("b-form-input",{attrs:{id:"amp"},model:{value:t.param.amp,callback:function(e){t.$set(t.param,"amp",e)},expression:"param.amp"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"vol(V):","label-align-sm":"right","label-for":"path"}},[r("b-form-input",{attrs:{id:"vol"},model:{value:t.param.vol,callback:function(e){t.$set(t.param,"vol",e)},expression:"param.vol"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"temp(C):","label-align-sm":"right","label-for":"path"}},[r("b-form-input",{attrs:{id:"temp"},model:{value:t.param.temp,callback:function(e){t.$set(t.param,"temp",e)},expression:"param.temp"}})],1)],1),r("b-col",{attrs:{sm:"6"}},[r("b-form-group",{attrs:{"label-cols-sm":"3",label:"设备Id:","label-align-sm":"right","label-for":"equipmentId"}},[r("b-form-input",{attrs:{id:"equipmentId"},model:{value:t.equipmentId,callback:function(e){t.equipmentId=e},expression:"equipmentId"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"SN:","label-align-sm":"right","label-for":"sn"}},[r("b-form-input",{attrs:{id:"sn"},model:{value:t.module.sn,callback:function(e){t.$set(t.module,"sn",e)},expression:"module.sn"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"type:","label-align-sm":"right","label-for":"type"}},[r("b-form-input",{attrs:{id:"type"},model:{value:t.module.type,callback:function(e){t.$set(t.module,"type",e)},expression:"module.type"}})],1),r("b-form-group",{attrs:{"label-cols-sm":"3",label:"time:","label-align-sm":"right","label-for":"time"}},[r("b-form-input",{attrs:{id:"time",disabled:""},model:{value:t.timestr,callback:function(e){t.timestr=e},expression:"timestr"}})],1)],1)],1),r("b-row",[r("p",[t._v("向服务器post结果:")]),r("p",[t._v(t._s(t.res))])]),r("b-row",[r("b-col",{staticClass:"text-right",attrs:{sm:"6"}},[r("b-button",{staticClass:"m-1",attrs:{variant:"primary",type:"submit"}},[t._v("Post")]),r("b-button",{staticClass:"m-1",attrs:{type:"reset"}},[t._v("Reset")])],1)],1)],1)],1)},n=[],s=(r("96cf"),r("1da1")),o=r("a15b"),i=r("b28b"),l=r("1947"),u=r("11de"),c=r("8226"),m=r("4797"),p=r("90f1"),b={name:"HandleData",data:function(){return{equipmentId:1,timer:null,timestr:"",param:{rh:92,amp:1000.1,vol:5,temp:26.9},module:{sn:"m001",type:"控制/采集模块"},res:null}},computed:{req:function(){var t={info_id:this.equipmentId,data:{param:this.param,module:this.module,timestamp:null},customer_id:0};return Object.assign({},t,{tblName:"data_raw"})}},watch:{},methods:{setTimer:function(){var t=this;null==this.timer&&(this.timer=setInterval((function(){var e=new Date;t.timestr=e.toLocaleString(),t.req.data.timestamp=e.getTime()}),1e3))},postData:function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){var r,a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.preventDefault(),r={method:"POST",body:JSON.stringify(this.req)},a=Object(p["b"])()+"equipment/data",this.res=null,t.next=6,Object(p["a"])(a,r);case 6:this.res=t.sent;case 7:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}(),resetData:function(){console.log("resetData")},clearTimer:function(){clearInterval(this.timer),this.timer=null}},components:{BRow:o["a"],BCol:i["a"],BButton:l["a"],BForm:u["a"],BFormGroup:c["a"],BFormInput:m["a"]},created:function(){this.clearTimer(),this.timer=null,this.setTimer()},beforeDestroy:function(){this.clearTimer()}},f=b,d=r("2877"),h=Object(d["a"])(f,a,n,!1,null,"553d292f",null);e["default"]=h.exports},"90f1":function(t,e,r){"use strict";r.d(e,"a",(function(){return s})),r.d(e,"b",(function(){return i}));r("caad"),r("c975"),r("fb6a"),r("d3b7"),r("2532"),r("3ca3"),r("ddb0"),r("2b3d"),r("96cf");var a=r("1da1"),n=!1;function s(t){return o.apply(this,arguments)}function o(){return o=Object(a["a"])(regeneratorRuntime.mark((function t(e){var r,a,n,s,o,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(r=i.length>1&&void 0!==i[1]?i[1]:{},a=["blob","text","json","formData"],n={method:"GET",headers:{"Content-Type":"application/json"},type:"json"},s={ok:!1},o={ok:!1,cont:{}},r=Object.assign({},n,r),!e||!a.includes(r.type)){t.next=10;break}return t.next=9,fetch(e,r);case 9:s=t.sent;case 10:if(!s.ok){t.next=33;break}o.ok=!0,t.t0=r.type,t.next="blob"===t.t0?15:"text"===t.t0?19:"formData"===t.t0?23:27;break;case 15:return t.next=17,s.blob();case 17:return o.cont=t.sent,t.abrupt("break",31);case 19:return t.next=21,s.text();case 21:return o.cont=t.sent,t.abrupt("break",31);case 23:return t.next=25,s.formData();case 25:return o.cont=t.sent,t.abrupt("break",31);case 27:return t.next=29,s.json();case 29:return o.cont=t.sent,t.abrupt("break",31);case 31:t.next=34;break;case 33:o.cont.data=[{result:s.ok,status:s.status,statusText:s.statusText}];case 34:return t.abrupt("return",o);case 35:case"end":return t.stop()}}),t)}))),o.apply(this,arguments)}function i(){var t=window.location.href,e=t.indexOf("#")>0,r=e?new URL(t.slice(0,t.indexOf("#"))):new URL(t);return n&&(r.port=2e4),r}},ab13:function(t,e,r){var a=r("b622"),n=a("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(r){try{return e[n]=!1,"/./"[t](e)}catch(a){}}return!1}},caad:function(t,e,r){"use strict";var a=r("23e7"),n=r("4d64").includes,s=r("44d2"),o=r("ae40"),i=o("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!i},{includes:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
//# sourceMappingURL=chunk-cbd433c0.b081ac68.js.map