{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/utility/util.js","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./src/components/admin/test/PostData.vue?c612","webpack:///src/components/admin/test/PostData.vue","webpack:///./src/components/admin/test/PostData.vue?f68f","webpack:///./src/components/admin/test/PostData.vue","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","target","proto","forced","includes","searchString","String","indexOf","length","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","debug","process","asyFetch","url","opt","typeArr","optDefault","method","headers","type","res","ok","result","cont","Object","assign","fetch","blob","text","formData","json","data","status","statusText","getServUrl","str","window","location","href","hasHash","URL","slice","port","METHOD_NAME","regexp","e","f","render","_vm","_h","$createElement","_c","_self","staticClass","_v","on","postData","resetData","attrs","model","form","param","callback","$$v","$set","expression","timestr","_s","_e","staticRenderFns","name","info_id","rh","amp","vol","temp","sn","timestamp","plus","tblName","customer_id","timer","computed","req","watch","methods","setTimer","setInterval","evt","preventDefault","formDefault","clearTimer","clearInterval","components","BRow","BCol","BButton","BForm","BFormGroup","BFormInput","created","beforeDestroy","component","$includes","addToUnscopables","arrayMethodUsesToLength","USES_TO_LENGTH","ACCESSORS","1","el"],"mappings":"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","file":"static/js/chunk-96bd0b52.539fa7d7.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.github.io/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","export const debug= process.env.NODE_ENV === \"development\";\r\n\r\nexport async function asyFetch(url, opt = {}) {\r\n  let typeArr = [\"blob\", \"text\", \"json\", \"formData\"];\r\n  //js原生fetch()方法的第二参数\r\n  let optDefault = {\r\n    method: \"GET\", // *GET, POST, PUT, DELETE, etc\r\n    //mode: 'no-cors', // no-cors, cors, *same-origin\r\n    //cache: 'no-cache', // *default, no-cache, reload, force-cache, only-if-cached\r\n    //credentials: 'omit', // include, *same-origin, omit\r\n    headers: {\r\n      \"Content-Type\": \"application/json\"\r\n      //    //'Content-Type': 'application/x-www-form-urlencoded',\r\n    },\r\n    //redirect: 'follow', // manual, *follow, error\r\n    //referrer: 'no-referrer', // no-referrer, *client\r\n    //body:JSON.stringify({zz:11}), // body data type must match \"Content-Type\" header while method=='POST' or 'PUT'\r\n    type: \"json\"\r\n  };\r\n  let res = { ok: false };\r\n  let result = {\r\n    ok: false,\r\n    cont: {}\r\n  };\r\n\r\n  opt = Object.assign({}, optDefault, opt);\r\n\r\n  // console.log(url, opt);\r\n\r\n  if (url && typeArr.includes(opt.type)) {\r\n    res = await fetch(url, opt);\r\n  }\r\n\r\n  if (res.ok) {\r\n    result.ok = true;\r\n    switch (opt.type) {\r\n      case \"blob\":\r\n        result.cont = await res.blob();\r\n        break;\r\n      case \"text\":\r\n        result.cont = await res.text();\r\n        break;\r\n      case \"formData\":\r\n        result.cont = await res.formData();\r\n        break;\r\n      default:\r\n        result.cont = await res.json();\r\n        break;\r\n    }\r\n  } else {\r\n    // result.cont=await res.blob();\r\n    // result.cont = res;\r\n    // console.log(res.status);\r\n    // console.log(res.statusText);\r\n    result.cont.data=[{result:res.ok,status:res.status,statusText:res.statusText}];\r\n    // result.cont=res;\r\n    // console.log(result);\r\n    // console.log(res.headers)\r\n  }\r\n  //console.log(result)\r\n  //async函数返回的是Promise对象\r\n  return result;\r\n}\r\n\r\nexport function getServUrl(){\r\n  const str=window.location.href;\r\n  const hasHash=str.indexOf('#')>0;\r\n  const url=hasHash?new URL(str.slice(0,str.indexOf('#'))):new URL(str);\r\n  \r\n  debug?url.port=20000:'';\r\n  \r\n  return url;\r\n\r\n}\r\n\r\n\r\n\r\n// export {asyFetch };\r\nexport default {};","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (e) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (f) { /* empty */ }\n  } return false;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h4',{staticClass:\"text-center\"},[_vm._v(\"写入“data_raw”数据表数据（http协议）\")]),_c('b-form',{staticClass:\"pt-2\",on:{\"submit\":_vm.postData,\"reset\":_vm.resetData}},[_c('b-row',[_c('b-col',{attrs:{\"sm\":\"6\"}},[_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"相对湿度(%):\",\"label-align-sm\":\"right\",\"label-for\":\"host\"}},[_c('b-form-input',{attrs:{\"id\":\"rh\"},model:{value:(_vm.form.data.param.rh),callback:function ($$v) {_vm.$set(_vm.form.data.param, \"rh\", $$v)},expression:\"form.data.param.rh\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"电流(A):\",\"label-align-sm\":\"right\",\"label-for\":\"port\"}},[_c('b-form-input',{attrs:{\"id\":\"amp\"},model:{value:(_vm.form.data.param.amp),callback:function ($$v) {_vm.$set(_vm.form.data.param, \"amp\", $$v)},expression:\"form.data.param.amp\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"电压(V):\",\"label-align-sm\":\"right\",\"label-for\":\"path\"}},[_c('b-form-input',{attrs:{\"id\":\"vol\"},model:{value:(_vm.form.data.param.vol),callback:function ($$v) {_vm.$set(_vm.form.data.param, \"vol\", $$v)},expression:\"form.data.param.vol\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"温度(C):\",\"label-align-sm\":\"right\",\"label-for\":\"path\"}},[_c('b-form-input',{attrs:{\"id\":\"temp\"},model:{value:(_vm.form.data.param.temp),callback:function ($$v) {_vm.$set(_vm.form.data.param, \"temp\", $$v)},expression:\"form.data.param.temp\"}})],1)],1),_c('b-col',{attrs:{\"sm\":\"6\"}},[_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"设备Id:\",\"label-align-sm\":\"right\",\"label-for\":\"equipmentId\"}},[_c('b-form-input',{attrs:{\"id\":\"equipmentId\"},model:{value:(_vm.form.info_id),callback:function ($$v) {_vm.$set(_vm.form, \"info_id\", $$v)},expression:\"form.info_id\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"模块SN:\",\"label-align-sm\":\"right\",\"label-for\":\"sn\"}},[_c('b-form-input',{attrs:{\"id\":\"sn\"},model:{value:(_vm.form.data.module.sn),callback:function ($$v) {_vm.$set(_vm.form.data.module, \"sn\", $$v)},expression:\"form.data.module.sn\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"模块类型:\",\"label-align-sm\":\"right\",\"label-for\":\"type\"}},[_c('b-form-input',{attrs:{\"id\":\"type\"},model:{value:(_vm.form.data.module.type),callback:function ($$v) {_vm.$set(_vm.form.data.module, \"type\", $$v)},expression:\"form.data.module.type\"}})],1),_c('b-form-group',{attrs:{\"label-cols-sm\":\"3\",\"label\":\"时间:\",\"label-align-sm\":\"right\",\"label-for\":\"time\"}},[_c('b-form-input',{attrs:{\"id\":\"time\",\"disabled\":\"\"},model:{value:(_vm.timestr),callback:function ($$v) {_vm.timestr=$$v},expression:\"timestr\"}})],1)],1)],1),(_vm.res)?_c('b-row',{staticClass:\"m-3\"},[_c('p',[_vm._v(\"向服务器post结果:\")]),_c('p',[_vm._v(_vm._s(_vm.res))])]):_vm._e(),_c('b-row',[_c('b-col',{staticClass:\"text-right\"},[_c('b-button',{staticClass:\"m-1\",attrs:{\"variant\":\"primary\",\"type\":\"submit\"}},[_vm._v(\"Post\")]),_c('b-button',{staticClass:\"m-1\",attrs:{\"type\":\"reset\"}},[_vm._v(\"Reset\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <h4 class=\"text-center\">写入“data_raw”数据表数据（http协议）</h4>\n    <!-- <b-form> -->\n    <b-form v-on:submit=\"postData\" v-on:reset=\"resetData\" class=\"pt-2\">\n      <b-row>\n        <b-col sm=\"6\">\n          <b-form-group label-cols-sm=\"3\" label=\"相对湿度(%):\" label-align-sm=\"right\" label-for=\"host\">\n            <b-form-input id=\"rh\" v-model=\"form.data.param.rh\"></b-form-input>\n          </b-form-group>\n\n          <b-form-group label-cols-sm=\"3\" label=\"电流(A):\" label-align-sm=\"right\" label-for=\"port\">\n            <b-form-input id=\"amp\" v-model=\"form.data.param.amp\"></b-form-input>\n          </b-form-group>\n\n          <b-form-group label-cols-sm=\"3\" label=\"电压(V):\" label-align-sm=\"right\" label-for=\"path\">\n            <b-form-input id=\"vol\" v-model=\"form.data.param.vol\"></b-form-input>\n          </b-form-group>\n          <b-form-group label-cols-sm=\"3\" label=\"温度(C):\" label-align-sm=\"right\" label-for=\"path\">\n            <b-form-input id=\"temp\" v-model=\"form.data.param.temp\"></b-form-input>\n          </b-form-group>\n        </b-col>\n        <b-col sm=\"6\">\n          <b-form-group\n            label-cols-sm=\"3\"\n            label=\"设备Id:\"\n            label-align-sm=\"right\"\n            label-for=\"equipmentId\"\n          >\n            <b-form-input id=\"equipmentId\" v-model=\"form.info_id\"></b-form-input>\n          </b-form-group>\n          <b-form-group label-cols-sm=\"3\" label=\"模块SN:\" label-align-sm=\"right\" label-for=\"sn\">\n            <b-form-input id=\"sn\" v-model=\"form.data.module.sn\"></b-form-input>\n          </b-form-group>\n\n          <b-form-group label-cols-sm=\"3\" label=\"模块类型:\" label-align-sm=\"right\" label-for=\"type\">\n            <b-form-input id=\"type\" v-model=\"form.data.module.type\"></b-form-input>\n          </b-form-group>\n          <b-form-group label-cols-sm=\"3\" label=\"时间:\" label-align-sm=\"right\" label-for=\"time\">\n            <b-form-input id=\"time\" v-model=\"timestr\" disabled></b-form-input>\n          </b-form-group>\n        </b-col>\n      </b-row>\n\n      <b-row v-if=\"res\" class=\"m-3\">\n        <p>向服务器post结果:</p>\n        <p>{{res}}</p>\n      </b-row>\n\n      <b-row>\n        <!-- <b-col sm=\"6\">\n            <h5 class=\"text-right\">\n              <span\n                class=\"badge badge-pill\"\n                v-bind:class=\"isConnected?`badge-success`:`badge-danger`\"\n              >{{isConnected?`Connected`:`Disconnected`}}</span>\n              {{mqttUrl.href}}\n            </h5>\n        </b-col>-->\n        <b-col class=\"text-right\">\n          <b-button class=\"m-1\" variant=\"primary\" type=\"submit\">Post</b-button>\n          <b-button class=\"m-1\" type=\"reset\">Reset</b-button>\n        </b-col>\n      </b-row>\n    </b-form>\n  </div>\n</template>\n\n<script>\n//引入BsV的component\nimport {\n  BRow,\n  BCol,\n  // BFormSelect,\n  BButton,\n  // BCard,\n  BForm,\n  // BCardGroup,\n  // BCardFooter,\n  BFormGroup,\n  BFormInput\n  // BFormRadioGroup\n} from \"bootstrap-vue\";\n\nimport { asyFetch, getServUrl } from \"@/utility/util\";\n\nexport default {\n  name: \"PostData\",\n  data() {\n    return {\n      //与数据表中的字段对应\n      form: {\n        info_id: \"null\",\n        data: {\n          param: {\n            rh: 92.0,\n            amp: 1000.1,\n            vol: 5,\n            temp: 26.9\n          },\n          module: {\n            sn: \"m001\",\n            type: \"控制/采集模块\"\n          },\n          timestamp: null\n        }\n      },\n      plus: {\n        tblName: \"data_raw\",\n        customer_id: 0\n      },\n      timer: null, //定义计时器名称\n      timestr: \"\",\n      res: null\n    };\n  },\n  computed: {\n    req() {\n      return Object.assign({}, this.form, this.plus);\n    }\n  },\n  watch: {\n    // req: {\n    //   handler: \"resetData\",\n    //   deep: true,\n    //   immediate: true\n    // }\n  },\n  // TODO: post前的数据校验\n  methods: {\n    setTimer: function() {\n      if (this.timer == null) {\n        this.timer = setInterval(() => {\n          const dateNow = new Date();\n          this.timestr = dateNow.toLocaleString();\n          this.req.data.timestamp = dateNow.getTime();\n          // console.log(this.req.data.timestamp);\n        }, 1000);\n      }\n    },\n    postData: async function(evt) {\n      evt.preventDefault();\n      const opt = { method: \"POST\", body: JSON.stringify(this.req) };\n      const url = getServUrl() + \"equipment/create\";\n      this.res = null;\n      this.res = await asyFetch(url, opt);\n    },\n    resetData: function(evt) {\n      evt.preventDefault();\n      const formDefault = {\n        info_id: \"null\",\n        data: {\n          param: {\n            rh: 92.0,\n            amp: 1000.1,\n            vol: 5,\n            temp: 26.9\n          },\n          module: {\n            sn: \"m001\",\n            type: \"控制/采集模块\"\n          },\n          timestamp: null\n        }\n      };\n      this.form = Object.assign({}, this.form, formDefault);\n    },\n    //清除定时器\n    clearTimer() {\n      //清除定时器\n      clearInterval(this.timer);\n      this.timer = null;\n    }\n  },\n  components: {\n    BRow,\n    BCol,\n    BButton,\n    // BCard,\n    BForm,\n    // BCardGroup,\n    // BCardFooter,\n    BFormGroup,\n    BFormInput\n    // BFormRadioGroup\n  },\n  created() {\n    // 每次进入界面时，先清除之前的所有定时器，然后启动新的定时器\n    this.clearTimer();\n    this.timer = null;\n    this.setTimer();\n  },\n  // 最后在beforeDestroy()生命周期内清除定时器：\n  beforeDestroy() {\n    this.clearTimer();\n  }\n};\n</script>\n\n<style scoped>\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostData.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostData.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./PostData.vue?vue&type=template&id=fdc6ada8&scoped=true&\"\nimport script from \"./PostData.vue?vue&type=script&lang=js&\"\nexport * from \"./PostData.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fdc6ada8\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\nvar arrayMethodUsesToLength = require('../internals/array-method-uses-to-length');\n\nvar USES_TO_LENGTH = arrayMethodUsesToLength('indexOf', { ACCESSORS: true, 1: 0 });\n\n// `Array.prototype.includes` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true, forced: !USES_TO_LENGTH }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.github.io/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}